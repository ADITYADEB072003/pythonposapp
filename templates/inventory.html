{% extends "base.html" %}
{% block content %}
<h2>Inventory</h2>
<form method="POST" enctype="multipart/form-data" class="mb-4 row g-3">
  <div class="col-md-3">
    <input name="name" placeholder="Item name" class="form-control" required>
  </div>
  <div class="col-md-2">
    <input name="price" type="number" step="0.01" placeholder="Price" class="form-control" required>
  </div>
  <div class="col-md-2">
    <input name="quantity" type="number" placeholder="Quantity" class="form-control" required>
  </div>
  <div class="col-md-3">
    <input name="image" type="file" class="form-control" accept="image/*">
  </div>
  <div class="col-md-2">
    <button class="btn btn-primary w-100">Add / Update</button>
  </div>
</form>

<table class="table table-striped">
  <thead>
    <tr><th>Image</th><th>Name</th><th>Price (â‚¹)</th><th>Quantity</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for item in items %}
    <tr>
      <td>
        {% if item.image %}
          <img src="{{ url_for('static', filename='images/' + item.image) }}" style="height:50px;">
        {% else %}
          No Image
        {% endif %}
      </td>
      <td>{{ item.name }}</td>
      <td>{{ item.price }}</td>
      <td>{{ item.quantity }}</td>
      <td>
        <a href="{{ url_for('delete_inventory', item_id=item._id) }}" class="btn btn-danger btn-sm"
           onclick="return confirm('Delete {{ item.name }}?');">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
